<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SooshARPG | Kumo and Lottie</title>
  <link rel="shortcut icon" type="image/png" href="img/favicon.png"/>
  
  <!-- CSS Stylesheet -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/kumo.css" />
</head>
<body>
  <ul class="tab">
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'General')" id="defaultOpen">Villager Info</a></li>
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'Skills')">Life Skills Experience</a></li>
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'Inventory')">Inventory</a></li>
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'Crafting')">Crafting</a></li>
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'Prompts')">Prompts</a></li>
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'Achievements')">Achievements</a></li>
    <li><a href="javascript:void(0)" class="tablinks" onclick="openCity(event, 'Bandana')">Bandana</a></li>
  </ul>

  <div id="General" class="tabcontent">
    <div class="container-fluid">
      <div class="col-md-4">
        <div class="kumoimage"><img src="img/kumo.png"></div>
      </div>
      <div class="col-md-8">
        <h3>Profile</h3>
        <br>
        <b>Name:</b> Kumo the Soosh, Lottie the Spider<br>
        <b>Pronouns:</b> He/Him for Kumo, She/Her for Lottie<br>
        <b>Food/Drink:</b> <a target="_blank" href="http://files.recipetips.com/images/recipe/McCormick/Sweet_Spider_Cakes.jpg">Sweet Spider Cakes</a><br>
        <b>Village:</b> Spicy Village<br>
        <b>Personality:</b> Energetic, Childlike, Optimistic, Absentminded, Outspoken, Enthusiastic, Unrestrained<br>
        <br>
        <a target="_blank" href="http://pepper-wood.deviantart.com/art/Soosh-ARPG-Kumo-and-Lottie-661632308"><button type="button" class="btn btn-primary">ARPG Application</button></a>
        <a target="_blank" href="http://toyhou.se/616866.kumo-and-lottie"><button type="button" class="btn btn-primary">Toyhou.se Profile</button></a>
        <a target="_blank" href="http://soosharpg.deviantart.com/"><button type="button" class="btn btn-info">dA Group</button></a>
        <a target="_blank" href="http://soosharpg.weebly.com/"><button type="button" class="btn btn-info">Weebly Site</button></a>
        <br>
        <h3>Level and Magic</h3>
        <br>
        <b>Current Level:</b> 3<br>
        <b>Prompts Completed:</b> 2<br>
        <b>Experience Earned:</b> 57 exp.<br>
        <br>
        <b>Domestic or Combat:</b> Domestic<br>
        <b>Magic Ability:</b> Shoots spider web (yes, like Spiderman)<br>
        <br>
        <h3>Notable Relationships</h3>
        <br>
        <b>Friends and Family:</b> Unknown<br>
        <b>Rivals and Enemies:</b> Unknown<br>
        <b>Significant Other(s):</b> Unknown<br>
      </div>
    </div>
  </div>

  <div id="Skills" class="tabcontent">
    <div class="container-fluid">
      <div id="lifeSkillStatistics" class="col-md-4"></div>
      <div class="col-md-8">
        <div class="container-fluid">
          <b>Alchemy Quests Completed:</b>
          <ul>
            <li><a target="_blank" href="http://pepper-wood.deviantart.com/art/Sleeping-Beauty-Alchemy-Prompt-670961185">Sleeping Beauty</a></li>
          </ul>
        </div>
        <div class="container-fluid">
          <b>Angling Quests Completed:</b>
          <ul>
            <li>none</li>
          </ul>
        </div>
        <div class="container-fluid">
          <b>Hunting Quests Completed:</b>
          <ul>
            <li>none</li>
          </ul>
        </div>
        <div class="container-fluid">
          <b>Gathering Quests Completed:</b>
          <ul>
            <li>none</li>
          </ul>
        </div>
        <div class="container-fluid">
          <b>Mining Quests Completed:</b>
          <ul>
            <li>none</li>
          </ul>
        </div>
        <div class="container-fluid">
          <b>Wood-cutting Quests Completed:</b>
          <ul>
            <li>none</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div id="Inventory" class="tabcontent">
    <div id="inventoryInner"></div>
  </div>

  <div id="Crafting" class="tabcontent">
    <div id="results"></div>
  </div>

  <div id="Prompts" class="tabcontent">
    <div class="controls">
      <button type="button" class="btn btn-primary control" data-filter="all">ALL</button>
      ||
      <button type="button" class="btn btn-prompts control" data-filter=".promptsPrompt">Prompts</button>
      <button type="button" class="btn btn-default control" data-filter=".questsPrompt">Quests</button>
      ||
      <button type="button" class="btn btn-alchemy control" data-filter=".alchemyPrompt">Alchemy</button>
      <button type="button" class="btn btn-angling control" data-filter=".anglingPrompt">Angling</button>
      <button type="button" class="btn btn-hunting control" data-filter=".huntingPrompt">Hunting</button>
      <button type="button" class="btn btn-gathering control" data-filter=".gatheringPrompt">Gathering</button>
      <button type="button" class="btn btn-mining control" data-filter=".miningPrompt">Mining</button>
      <button type="button" class="btn btn-woodcutting control" data-filter=".woodcuttingPrompt">Wood-Cutting</button>
    </div>

    <div class="promptsContainer">
      <div class="mix promptsPrompt">
        <a target="_blank" href="http://soosharpg.deviantart.com/art/Soosh-ARPG-Prompt-Be-Back-in-a-LILY-Bit-666438758">
          <div class="card-image"><img src="img/feb17prompt.png"></div>
          <div class="card-content">
            <span class="card-title">February 2017 - "What Is Love"</span>
          </div>
        </a>
      </div>
      <div class="mix promptsPrompt">
        <a target="_blank" href="http://pepper-wood.deviantart.com/art/Soosh-ARPG-Prompt-Just-Another-Afternoon-668680405">
          <div class="card-image"><img src="img/march17prompt.png"></div>
          <div class="card-content">
            <span class="card-title">March 2017 - ????</span>
          </div>
        </a>
      </div>
      <div class="mix questsPrompt alchemyPrompt">
        <a target="_blank" href="http://pepper-wood.deviantart.com/art/Sleeping-Beauty-Alchemy-Prompt-670961185">
          <div class="card-image"><img src="img/alchemy2.png"></div>
          <div class="card-content">
            <span class="card-title">Alchemy - "Sleeping Beauty"</span>
          </div>
        </a>
      </div>
            
      <div class="gap"></div>
      <div class="gap"></div>
      <div class="gap"></div>
    </div>
  </div>

  <div id="Achievements" class="tabcontent">
    Key: <span class="achievementsButton bg-tutorial">Tutorial Achievement</span>, <span class="achievementsButton bg-exclusive">Exclusive Achievement</span>, <span class="achievementsButton bg-quest">Quest Achievement</span>, <span class="achievementsButton bg-lifeskills">Life Skills Achievement</span>
    <table class="table">
      <thead><tr><th>No.</th><th>Achievement Name</th><th>Description</th><th>Awarded</th></tr></thead>
      <tbody>
        <tr class="bg-tutorial"><th scope="row">#001</th><td>A Hero Is Born</td><td>Be accepted into the SooshARPG for the first time.</td><td>February 2017</td></tr>
        <tr class="bg-tutorial"><th scope="row">#002</th><td>Strike a Cord</td><td>Join the Culario Discord Server.</td><td>February 2017</td></tr>
        <tr class="bg-exclusive"><th scope="row">#003</th><td>The Alpha Dog</td><td>Receive an Early Access Pass to the ARPG.</td><td>February 2017</td></tr>
        <tr class="bg-quest"><th scope="row">#007</th><td>Soda is my Sweet Prince</td><td>Complete the 'Sleeping Beauty' Alchemy Quest</td><td>March 2017</td></tr>
        <tr class="bg-exclusive"><th scope="row">#018</th><td>What Is Love</td><td>Participate in the 2017 Valentine's Day Prompts.</td><td>February 2017</td></tr>
        <tr class="bg-exclusive"><th scope="row">#???</th><td>Happy Hobbies</td><td>Participate in the March 2017 Prompt.</td><td>March 2017</td></tr>
        <tr class="bg-lifeskills"><th scope="row">#019</th><td>On The Road to Greatness</td><td>Unlock Rookie Knowledge Milestone in any Life Skill.</td><td>February 2017</td></tr>
      </tbody>
    </table>
  </div>

  <div id="Bandana" class="tabcontent">
    <a href="#" data-toggle="tooltip" data-placement="bottom" title="Alpha Tester Charm"><img src="img/alpha_tester_charm.png"></a>
  </div>

  <!-- Javascript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="js/modernizr.custom.js"></script>
  <script src="js/taffy.js"></script>
  <script>
  $(document).ready(function(){
    var SWIRL_SEEDS = 69;
    var stats = TAFFY();
    stats.insert({"exp":50,"name":"Alchemy","levelID":0});
    stats.insert({"exp":140,"name":"Angling","levelID":1});
    stats.insert({"exp":0,"name":"Hunting","levelID":0});
    stats.insert({"exp":320,"name":"Gathering","levelID":1});
    stats.insert({"exp":45,"name":"Mining","levelID":0});
    stats.insert({"exp":0,"name":"Wood-cutting","levelID":0});
    
    var inventory = TAFFY();
    inventory.insert({"quantity":2,"name":"Choco Beans","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Crusing' Carp","skill":"Angling","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Dandepuff","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Empty Bottle","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":2,"name":"Funkaberries","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":5,"name":"Hunnie Drops","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":2,"name":"Kernel Puffs","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Kyootie Fish","skill":"Angling","location":"The Thickets"});
    inventory.insert({"quantity":3,"name":"Lemonfish","skill":"Angling","location":"The Thickets"});
    inventory.insert({"quantity":13,"name":"Litter Bits","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":4,"name":"Lymons","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":4,"name":"Malloberries","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":7,"name":"Maglia Flowers","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":3,"name":"Molding Clay","skill":"Mining","location":"The Thickets"});
    inventory.insert({"quantity":6,"name":"Origami Critter","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Peamouse Tail","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":2,"name":"Racing Shell","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Rainbow Yarn","skill":"Gathering","location":"The Thickets"});
    inventory.insert({"quantity":2,"name":"Shining Iron","skill":"Mining","location":"The Thickets"});
    inventory.insert({"quantity":3,"name":"Slippery Sammy","skill":"Angling","location":"The Thickets"});
    inventory.insert({"quantity":3,"name":"Smokey Coal","skill":"Mining","location":"The Thickets"});
    inventory.insert({"quantity":1,"name":"Sour Belly Guppy","skill":"Angling","location":"The Thickets"});
    inventory.insert({"quantity":5,"name":"Sparkling Water","skill":"Gathering","location":"The Thickets"});
    
    var expLevels = TAFFY();
    expLevels.insert({"id":0,"level":"Novice","exp":0,"progress":"danger"});
    expLevels.insert({"id":1,"level":"Rookie","exp":100,"progress":"warning"});
    expLevels.insert({"id":2,"level":"Apprentice","exp":500,"progress":"success"});
    expLevels.insert({"id":3,"level":"Whiz","exp":750,"progress":"info"});
    expLevels.insert({"id":4,"level":"Genius","exp":1000,"progress":"primary"});
    expLevels.insert({"id":5,"level":"Master","exp":2500,"progress":"default"});
    expLevels.insert({"id":6,"level":"Hero","exp":5000,"progress":"default"});
    
    var recipes = TAFFY();
    recipes.insert({"recipeID":0,"recipeName":"Lucky Duck Potion","lifeSkillLevel":1,"quantity":1,"name":"Sparkling Water"});
    recipes.insert({"recipeID":0,"recipeName":"Lucky Duck Potion","lifeSkillLevel":1,"quantity":1,"name":"Dijon Duck Feather"});
    recipes.insert({"recipeID":0,"recipeName":"Lucky Duck Potion","lifeSkillLevel":1,"quantity":1,"name":"Magic Powder"});
    recipes.insert({"recipeID":1,"recipeName":"Hunter's Potion","lifeSkillLevel":2,"quantity":1,"name":"Sparkling Water"});
    recipes.insert({"recipeID":1,"recipeName":"Hunter's Potion","lifeSkillLevel":2,"quantity":2,"name":"Draco Wings"});
    recipes.insert({"recipeID":2,"recipeName":"Bee's B Gone Potion","lifeSkillLevel":2,"quantity":1,"name":"Sparkling Water"});
    recipes.insert({"recipeID":2,"recipeName":"Bee's B Gone Potion","lifeSkillLevel":2,"quantity":2,"name":"Lymons"});
    recipes.insert({"recipeID":2,"recipeName":"Bee's B Gone Potion","lifeSkillLevel":2,"quantity":1,"name":"Cader"});
    recipes.insert({"recipeID":3,"recipeName":"Energy Soda","lifeSkillLevel":2,"quantity":1,"name":"Sparkling Water"});
    recipes.insert({"recipeID":3,"recipeName":"Energy Soda","lifeSkillLevel":2,"quantity":1,"name":"Racing Shell"});
    recipes.insert({"recipeID":3,"recipeName":"Energy Soda","lifeSkillLevel":2,"quantity":1,"name":"Cader"});
    recipes.insert({"recipeID":3,"recipeName":"Energy Soda","lifeSkillLevel":2,"quantity":2,"name":"Choco Beans"});
    recipes.insert({"recipeID":4,"recipeName":"Hero's Brew","lifeSkillLevel":4,"quantity":1,"name":"Sparkling Water"});
    recipes.insert({"recipeID":4,"recipeName":"Hero's Brew","lifeSkillLevel":4,"quantity":1,"name":"Hagis Hide"});
    recipes.insert({"recipeID":4,"recipeName":"Hero's Brew","lifeSkillLevel":4,"quantity":3,"name":"Gogi Berries"});
    recipes.insert({"recipeID":5,"recipeName":"Hunter's Talisman","lifeSkillLevel":3,"quantity":1,"name":"Peamouse Tail"});
    recipes.insert({"recipeID":5,"recipeName":"Hunter's Talisman","lifeSkillLevel":3,"quantity":1,"name":"Glittering Gem"});
    recipes.insert({"recipeID":5,"recipeName":"Hunter's Talisman","lifeSkillLevel":3,"quantity":1,"name":"Raspberry Rabbit Foot"});
    
    printLifeSkillsExperience();
    printInventory();
    printRecipes();
    
    // function to print out the bars with all the life skills experience stats
    function printLifeSkillsExperience() {
      var finalString = "";
      stats().each(function (lifeSkill) {
        finalString += "<div class='container-fluid'><b>" + lifeSkill.name + ":</b> ";
        finalString += (expLevels({id:lifeSkill.levelID}).first()).level + "<div class='smallerText'>";
        var levelCap = (expLevels({id:(lifeSkill.levelID+1)}).first()).exp;
        finalString += lifeSkill.exp + "/" + levelCap + " Exp.</div><div class='progress'><div class='progress-bar progress-bar-";
        finalString += (expLevels({id:lifeSkill.levelID}).first()).progress + " progress-bar-striped active' role='progressbar' aria-valuenow='40' aria-valuemin='0' aria-valuemax='100' style='width:";
        var percentage = Math.round(100*(lifeSkill.exp/levelCap));
        if (percentage == 0) { finalString += "5"; }
        else { finalString += percentage; }
        finalString += "%'>" + percentage + "%</div></div></div>";
      });
      document.getElementById("lifeSkillStatistics").innerHTML = finalString;
    }
    
    // function to print out the database of inventory items
    function printInventory() {
      var finalString = "";
      finalString += "<table class='table table-striped'><thead><tr><th>Quantity</th><th>Item Name</th><th>Obtained Via</th><th>Location</th></tr></thead><tbody>";
      finalString += "<tr class='bg-warning'><th scope='row'>" + SWIRL_SEEDS + "</th><td><img src='img/seeds.png' style='height:50px;'> Swirl Seeds</td><td></td><td></td></tr>";
      inventory().order("name desc"); // sort in alphabetical order
      inventory().each(function (inventItem) {
        finalString += "<tr><th scope='row'>" + inventItem.quantity + "</th><td>" + inventItem.name + "</td><td>" + inventItem.skill + "</td><td>" + inventItem.location + "</td></tr>";
      });
      finalString += "</tbody></table>";
      document.getElementById("inventoryInner").innerHTML = finalString;
    }
    
    // function to return valid and invalid recipes
    function printRecipes() {
      lastID = recipes().max("recipeID");
      for (i = 0; i <= lastID; i++) {
        recipeCheck(i);
      }
    }
    // function to go through a recipe's ingredients and verify if the inventory can make it
    function recipeCheck(id) {
      var recipeString = ".<span class='tooltip'><span class='top'></span><span class='middle'>";
      var recipeFlag = true; // turns false otherwise
      var currentRecipe = recipes({recipeID:id});
      var levelName = expLevels({id:recipes({recipeID:id}).first().lifeSkillLevel}).first().level;
      if (stats({name:"Alchemy"}).first().levelID >= recipes({recipeID:id}).first().lifeSkillLevel) {
        recipeString += "<font color='green'>Level Required: " + levelName + "</font><br>";
      } else {
        recipeString += "<font color='red'>Level Required: " + levelName + "</font><br>";
      }
      currentRecipe.each(function (ingredient) {
        var inventoryItem = inventory({name:ingredient.name}).first();
        if (inventoryItem.quantity >= ingredient.quantity) {
          recipeString += "<font color='green'>" + inventoryItem.quantity + "/" + ingredient.quantity + " " + ingredient.name + "</font><br>";
        } else {
          recipeString += "<font color='red'>0/" + ingredient.quantity + " " + ingredient.name + "</font><br>";
          recipeFlag = false;
        }
      });
      recipeString += "</span><span class='bottom'></span></span></a><br></div>";
      if (recipeFlag==true) {
        recipeString = "<div class='craftingItem'><a href='#' class='tt'>I <font color='green'>can</font> make " + recipes({recipeID:id}).first().recipeName + recipeString;
      } else {
        recipeString = "<div class='craftingItem'><a href='#' class='tt'>I <font color='red'>cannot</font> make " + recipes({recipeID:id}).first().recipeName + recipeString;
      }
      document.getElementById('results').innerHTML += recipeString;
    }
  });
  </script>
  <script>
    function openCity(evt, cityName) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" activeTab", "");
      }
      document.getElementById(cityName).style.display = "block";
      evt.currentTarget.className += " activeTab";
    }

    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
  </script>
  <script>
    $(document).ready(function(){
      $('[data-toggle="tooltip"]').tooltip();   
    });
  </script>
  <script src="js/mixitup.min.js"></script>
  <script>
    var containerEl = document.querySelector('.promptsContainer');
    var mixer = mixitup(containerEl);
  </script>
</body>
</html>